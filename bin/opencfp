#!/usr/bin/env php
<?php

namespace OpenCFP;

use Symfony\Component\Console\Input\ArgvInput;

\set_time_limit(0);

require_once __DIR__ . '/../vendor/autoload.php';

$input       = new ArgvInput();
$environment = Environment::fromString($input->getParameterOption(['--env'], \getenv('CFP_ENV') ?: 'development'));

$kernel = new Kernel((string) $environment, !$environment->isProduction());
$kernel->boot();

/** @var Console\Application $app */
$app = $kernel->getContainer()->get(Console\Application::class);

$status = $app->run($input);

exit($status);
